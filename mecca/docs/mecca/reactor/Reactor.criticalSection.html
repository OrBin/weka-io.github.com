<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>Function Reactor.criticalSection</title>
		<link rel="stylesheet" type="text/css" href="../../styles/ddox.css"/>
		<link rel="stylesheet" href="../../prettify/prettify.css" type="text/css"/>
		<script type="text/javascript" src="../../scripts/jquery.js">/**/</script><script type="text/javascript" src="../../scripts/ddox.js">/**/</script>
	</head>
	<body onload="setupDdox();">
		<nav id="main-nav">
			<noscript>
				<p style="color: red">The search functionality needs JavaScript enabled</p>
			</noscript>
			<div id="symbolSearchPane" style="display: none">
				<form action="#" method="GET">
					<input id="symbolSearch" type="text" name="q" placeholder="Search for symbols" autocomplete="off" onchange="performSymbolSearch(40);" onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"/>
				</form>
				<ul id="symbolSearchResults" class="symbolList" style="display: none"></ul><script type="application/javascript" src="../../symbols.js"></script><script type="application/javascript">var symbolSearchRootDir = "../../";
$('#symbolSearchPane').show();</script>
			</div>
			<ul class="tree-view">
				<li class="tree-view ">
					<div class="package ">mecca
					</div>
			<ul class="tree-view">
				<li class="tree-view collapsed">
					<div class="package ">containers
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../mecca/containers/arrays.html">arrays</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/containers/otm_queue.html">otm_queue</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/containers/queue.html">queue</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">lib
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../mecca/lib/concurrency.html">concurrency</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/lib/console.html">console</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/lib/consts.html">consts</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/lib/division.html">division</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/lib/exception.html">exception</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/lib/io.html">io</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/lib/iteration.html">iteration</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/lib/net.html">net</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/lib/reflection.html">reflection</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/lib/string.html">string</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/lib/time.html">time</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">platform
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../mecca/platform/linux.html">linux</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/platform/x86.html">x86</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view ">
					<div class="package selected">
						<a href="../../mecca/reactor.html">reactor</a>
					</div>
			<ul class="tree-view">
				<li class="tree-view collapsed">
					<div class="package ">io
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/io/fd.html">fd</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/io/fs_watcher.html">fs_watcher</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/io/inotify.html">inotify</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/io/signals.html">signals</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">lib
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/lib/ondemand_worker.html">ondemand_worker</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/lib/process.html">process</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">subsystems
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/subsystems/gc_tracker.html">gc_tracker</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">sync
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/sync/barrier.html">barrier</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/sync/event.html">event</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/sync/fiber_queue.html">fiber_queue</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/sync/future.html">future</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/sync/lock.html">lock</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/sync/queue.html">queue</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/sync/semaphore.html">semaphore</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/sync/throttler.html">throttler</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/sync/time_bomb.html">time_bomb</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/sync/verbose.html">verbose</a>
					</div>
				</li>
			</ul>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/fiber_group.html">fiber_group</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/fls.html">fls</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/types.html">types</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/reactor/utils.html">utils</a>
					</div>
				</li>
			</ul>
				</li>
				<li class="tree-view collapsed">
					<div class="package ">runtime
					</div>
			<ul class="tree-view">
				<li>
					<div class="module ">
						<a href="../../mecca/runtime/main.html">main</a>
					</div>
				</li>
				<li>
					<div class="module ">
						<a href="../../mecca/runtime/ut.html">ut</a>
					</div>
				</li>
			</ul>
				</li>
			</ul>
				</li>
			</ul>
		</nav>
		<div id="main-contents">
			<h1>Function Reactor.criticalSection</h1><p>Return a RAII object handling a critical section
</p>
			<div class="prototype">
				<code class="lang-d">
					<div class="single-prototype">
			<span class="kwd">auto </span><span class="pln">mecca<wbr/></span><span class="pun">.</span><span class="pln">reactor<wbr/></span><span class="pun">.</span><span class="typ">Reactor<wbr/></span><span class="pun">.</span><span class="pln">criticalSection</span> <span class="pln">criticalSection
			<span class="pun">()</span><span class="pln"> </span><span class="kwd">pure nothrow @property @nogc @safe</span><span class="pun">;</span>
					</div>
				</code>
			</div>
			<section><p>The function enters a critical section. Unlike enterCriticalSection, however, there is no need to explicitly call
 leaveCriticalSection. Instead, the function returns a variable that calls leaveCriticalSection when it goes out of scope.
</p>

<p> There are two advantages for using criticalSection over enter/leaveCriticalSection. The first is for nicer scoping:
</p>
<pre class="code"><code class="lang-d"><span class="kwd">with</span><span class="pun">(</span><span class="pln">theReactor<wbr/></span><span class="pun">.</span><span class="pln">criticalSection</span><span class="pun">) {
  </span><span class="com">// Code in critical section goes here
</span><span class="pun">}</span></code></pre>

<p> The second case is if you need to switch, within the same code, between critical section and none:
</p>
<pre class="code"><code class="lang-d"><span class="kwd">auto </span><span class="pln">cs </span><span class="pun">= </span><span class="pln">theReactor<wbr/></span><span class="pun">.</span><span class="pln">criticalSection</span><span class="pun">;

</span><span class="com">// Some code
</span><span class="pln">cs<wbr/></span><span class="pun">.</span><span class="pln">leave</span><span class="pun">();
</span><span class="com">// Some code that sleeps
</span><span class="pln">cs<wbr/></span><span class="pun">.</span><span class="pln">enter</span><span class="pun">();

</span><span class="com">// The rest of the critical section code</span></code></pre>

<p> The main advantage over enter/leaveCriticalSection is that this way, the critical section never leaks. Any exception thrown, either
 from the code inside the critical section or the code temporary out of it, will result in the correct number of leaveCriticalSection
 calls to zero out the effect.
</p>

<p> Also note that there is no need to call leave at the end of the code. Cs's destructor will do it for us <b>if necessary</b>.
</p>
</section>

			
			<footer>
				<table class="license-info">
					<tr>
						<th>Authors</th>
						<td>
							
						</td>
					</tr>
					<tr>
						<th>Copyright</th>
						<td>
							
						</td>
					</tr>
					<tr>
						<th>License</th>
						<td>
							
						</td>
					</tr>
				</table>
				<p class="faint">Generated using the DDOX documentation generator</p>
			</footer>
		</div>
	</body>
</html>